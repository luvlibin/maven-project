pipeline {
  agent any
     stages {
		stage ('SCM checkout'){
		git 'https://github.com/luvlibin/maven-project'}
         

		stage ('source code compile'){
		steps {
			withMaven(maven : 'MyMaven'){
			sh 'mvn compile'
		    }}
		}


		stage ('Code Test'){
		steps {
			withMaven(maven : 'MyMaven'){
			sh 'mvn test'
		    }}
		}

		stage ('Package'){
		steps {
			withMaven(maven : 'MyMaven'){
			sh 'mvn package'
		    }}
		}

		stage ('install'){
		steps {
			withMaven(maven : 'MyMaven'){
			sh 'mvn install'
		    }}
		}
	
		}}
